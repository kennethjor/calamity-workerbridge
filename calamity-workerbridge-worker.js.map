{"version":3,"sources":["calamity-workerbridge-worker.coffee"],"names":[],"mappings":"AACA,IAAA,oBAAA;;AAAA,KAAA,GAAQ,EAAR,CAAA;;AAAA,IAGI,CAAC,gBAAL,CAAsB,SAAtB,EAAiC,SAAC,KAAD,GAAA;AAEhC,MAAA,IAAA;AAAA,EAAA,IAAA,GAAO,KAAK,CAAC,KAAM,CAAA,CAAA,CAAnB,CAAA;AAAA,EACA,KAAK,CAAC,IAAN,CAAW,IAAX,CADA,CAAA;AAAA,EAGA,IAAI,CAAC,gBAAL,CAAsB,SAAtB,EAAoC,CAAA,SAAC,IAAD,GAAA;WAAU,SAAC,GAAD,GAAA;AAC7C,MAAA,aAAA,CAAc,IAAd,EAAoB,GAApB,CAAA,CAD6C;IAAA,EAAV;EAAA,CAAA,CAAH,CAAI,IAAJ,CAAjC,CAHA,CAAA;AAAA,EAMA,IAAI,CAAC,KAAL,CAAA,CANA,CAAA;AAAA,EAQA,IAAI,CAAC,WAAL,CAAiB,MAAjB,CARA,CAFgC;AAAA,CAAjC,CAHA,CAAA;;AAAA,aAkBA,GAAgB,SAAC,IAAD,EAAO,GAAP,GAAA;AACf,MAAA,WAAA;AAAA,OAAA,4CAAA;kBAAA;AACC,IAAA,IAAO,CAAA,KAAK,IAAZ;AACC,MAAA,CAAC,CAAC,WAAF,CAAc,GAAd,CAAA,CADD;KADD;AAAA,GADe;AAAA,CAlBhB,CAAA","file":"calamity-workerbridge-worker.js","sourceRoot":"/source/","sourcesContent":["# Ports container.\nports = []\n\n# When new connections are received.\nself.addEventListener \"connect\", (event) ->\n\t# Add port to register.\n\tport = event.ports[0]\n\tports.push port\n\t# Attach message handler for this port.\n\tport.addEventListener \"message\", do (port) -> (msg) ->\n\t\thandleMessage port, msg\n\t\treturn\n\tport.start()\n\t# Send pong to indicate successful load.\n\tport.postMessage \"pong\"\n\treturn\n\n# Message handler.\n# This will copy the message to all ports, except the port it came from.\nhandleMessage = (port, msg) ->\n\tfor p in ports\n\t\tunless p is port\n\t\t\tp.postMessage msg\n\treturn\n"]}